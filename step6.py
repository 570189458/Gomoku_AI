import requests
import json
import numpy

url = 'http://202.207.12.223:8000/step_06'
response = requests.get(url)

questions = json.loads(response.text)
questions = questions['questions']
print(questions)

step_num = len(questions)
board_list = numpy.zeros((15, 15))
total_board_list = ''


# 0表示x 1表示o
def ChangeBoard(x, y, player):
    board_list[y][x] = player


def Board2Str(board):
    global total_board_list
    for i in range(15):
        for j in range(15):
            if board[j][i] == 0:
                total_board_list += '.'
            if board[j][i] == ord('x'):
                total_board_list += 'x'
            if board[j][i] == ord('o'):
                total_board_list += 'o'



for i in range(0, step_num, 2):
    if (i // 2) % 2 == 0:
        ChangeBoard(ord(questions[i]) - ord('a'), ord(questions[i+1]) - ord('a'), ord('x'))
    else:
        ChangeBoard(ord(questions[i]) - ord('a'), ord(questions[i+1]) - ord('a'), ord('o'))
    Board2Str(board_list)
    if i != step_num - 2:
        total_board_list += ','


get_url = url + '?ans=' + total_board_list  # '................................................................................................x................................................................................................................................,................................................................................o...............x................................................................................................................................,................................................................................o...............x..............x.................................................................................................................,................................................................................o..............ox..............x.................................................................................................................,................................................................................o..............ox.............xx.................................................................................................................,................................................................................oo.............ox.............xx.................................................................................................................,................................................................................oo.............ox.............xx............x....................................................................................................,................................................................................ooo............ox.............xx............x....................................................................................................,...............................................................................xooo............ox.............xx............x....................................................................................................,...............................................................................xooo............ox............oxx............x....................................................................................................,...............................................................................xooo............ox............oxx...........xx....................................................................................................,...................................................................o...........xooo............ox............oxx...........xx....................................................................................................,.....................................................x.............o...........xooo............ox............oxx...........xx....................................................................................................,....................................................ox.............o...........xooo............ox............oxx...........xx....................................................................................................,....................................................ox.............o...........xooo............oxx...........oxx...........xx....................................................................................................,....................................................ox............oo...........xooo............oxx...........oxx...........xx....................................................................................................,......................................x.............ox............oo...........xooo............oxx...........oxx...........xx....................................................................................................,......................................x...........o.ox............oo...........xooo............oxx...........oxx...........xx....................................................................................................,......................................x...........o.ox............oo...........xooo............oxxx..........oxx...........xx....................................................................................................,......................................x...........o.ox...........ooo...........xooo............oxxx..........oxx...........xx....................................................................................................,...................................x..x...........o.ox...........ooo...........xooo............oxxx..........oxx...........xx....................................................................................................,...................................x..x...........o.ox..........oooo...........xooo............oxxx..........oxx...........xx....................................................................................................,...................................x..x...........o.ox..........oooox..........xooo............oxxx..........oxx...........xx....................................................................................................,...................................x..x...........o.ox.........ooooox..........xooo............oxxx..........oxx...........xx....................................................................................................'
# print(get_url)
# print(total_board_list)
ansresponse = requests.get(get_url)
print(ansresponse.text)

